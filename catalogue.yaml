- name: setup catalogue server
  hosts: catalogue
  become: yes

  tasks:
  - name: disable nodejs
    ansible.builtin.command: dnf module disable nodejs -y
  
  - name: enable nodejs 20
    ansible.builtin.command: dnf module enable nodejs:20 -y
  
  - name: install nodejs
    ansible.builtin.package:
     name: catalogue
     state: present
  
  - name: create roboshop system user
    ansible.builtin.user:
     name: roboshop
     comment: roboshop system user
     system: true
     shell: /sbin/nologin
     home: /app